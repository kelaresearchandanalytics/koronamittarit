<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fi" xml:lang="fi"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title> - Tervetuloa Kelan koronamittarit -sivustolle</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Ei tuloksia",
    "search-matching-documents-text": "tulokset",
    "search-copy-link-title": "Kopioi linkki hakuun",
    "search-hide-matches-text": "Piilota loput tulokset",
    "search-more-match-text": "tulos tässä dokumentissa",
    "search-more-matches-text": "tulosta tässä dokumentissa",
    "search-clear-button-title": "Tyhjennä",
    "search-detached-cancel-button-title": "Peruuta",
    "search-submit-button-title": "Lähetä",
    "search-label": "Hae"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 272.6 132" space="preserve" height="48" width="83"><circle cx="242.9" cy="29.8" r="29.1" fill="#fdb913"></circle><path d="M226.8 7.8h5.8v2.6h7.2V7.8h6v2.7h7.2V7.8h5.7l3.8 41.3h-12.6s-.9-10-.9-9.6c.1.3-.9-5.6-6.5-5.2-5.9 0-6.2 5.8-6.2 5.8l-.8 9H223l3.8-41.3z" fill="#fff"></path><circle cx="242.7" cy="22.4" r="6.2" fill="#fdb913"></circle><path d="m43.8 130.1-26-44.6v44.6H.2V44.6h17.6v39l24.4-39h21.2L36 84.2l30.4 45.9H43.8zm40.4-28.3v.5c0 9.7 4.8 15.3 13.3 15.3 5.7 0 10.9-2.1 16-6.3l6.4 9.8c-7.3 5.9-14.9 8.7-23.7 8.7-18.1 0-29.8-12.8-29.8-32.6 0-11.3 2.3-18.8 7.9-25 5.2-5.8 11.4-8.5 19.8-8.5 7.3 0 14.1 2.5 18.2 6.6 5.8 5.9 8.4 14.4 8.4 27.6v3.8H84.2zM103.6 89c0-4.7-.5-7.1-2-9.5-1.6-2.5-3.9-3.7-7.3-3.7-6.3 0-9.8 4.9-9.8 13.7v.2h19.1V89zm44.9 40.6c-7 0-12.7-3.3-14.6-8.6-1.2-3.2-1.5-5.2-1.5-14.1v-47c0-8.2-.2-13.3-.9-18.9l16.9-3.8c.6 3.4.9 7.5.9 16.4v49.1c0 10.8.1 12.3 1.1 14 .6 1.1 2 1.7 3.3 1.7.6 0 1 0 1.8-.2l2.8 9.8c-2.8.9-6.3 1.6-9.8 1.6zm59.6 2.3c-3.8-1.6-6.9-5-8.5-8.2-1.2 1.2-2.6 2.5-3.8 3.3-3.1 2.2-7.5 3.4-12.7 3.4-14 0-21.6-7.1-21.6-19.7 0-14.8 10.2-21.6 30.3-21.6 1.2 0 2.3 0 3.7.1v-2.6c0-7-1.4-9.3-7.4-9.3-5.3 0-11.4 2.6-18.2 7.1l-7-11.8c3.3-2.1 5.8-3.3 10.2-5.2 6.1-2.6 11.4-3.7 17.2-3.7 10.6 0 17.8 3.9 20.3 10.9.9 2.6 1.2 4.6 1.1 11.3l-.4 21.2c-.1 6.9.4 9.8 5.9 14l-9.1 10.8zm-13.6-31.4c-11.4 0-15.4 2.1-15.4 9.6 0 4.9 3.1 8.2 7.3 8.2 3.1 0 6.2-1.6 8.6-4.3l.2-13.5h-.7z" fill="#004895"></path></svg></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Hae"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Vaihda navigointi" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-mittarit" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Mittarit</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-mittarit">    
        <li>
    <a class="dropdown-item" href="./mittari_etuushakemukset/index.html" rel="" target="">
 <span class="dropdown-text">Etuushakemukset</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mittari_etuuksien_saajat/index.html" rel="" target="">
 <span class="dropdown-text">Etuuksien saajat</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mittari_laakekorvaukset/index.html" rel="" target="">
 <span class="dropdown-text">Lääkekorvaukset</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mittari_koronavirustutkimukset/index.html" rel="" target="">
 <span class="dropdown-text">Koronavirustutkimukset</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mittari_asiakaspalvelu/index.html" rel="" target="">
 <span class="dropdown-text">Kelan asiakaspalvelu</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mittari_matkakorvaukset/index.html" rel="" target="">
 <span class="dropdown-text">Matkakorvaukset taksimatkoista</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./sivu_tilannekatsaukset/index.html" rel="" target="">
 <span class="menu-text">Tilannekatsaukset</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-lisätietoja" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Lisätietoja</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-lisätietoja">    
        <li>
    <a class="dropdown-item" href="./sivu_data_ja_mittarit/index.html" rel="" target="">
 <span class="dropdown-text">Aineiston ja mittarien kuvaus</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sivu_yhteystiedot/index.html" rel="" target="">
 <span class="dropdown-text">Yhteystiedot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sivu_saavutettavuusseloste/index.html" rel="" target="">
 <span class="dropdown-text">Saavutettavuusseloste</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sivu_tietosuojaseloste/index.html" rel="" target="">
 <span class="dropdown-text">Tietosuojaseloste</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sivu_esimerkit/index.html" rel="" target="">
 <span class="dropdown-text">Esimerkit datan hyödyntämiseen R-kielellä</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Tervetuloa Kelan koronamittarit -sivustolle</h1>
</div>



<div class="quarto-title-meta">

    
  
    <div>
    <div class="quarto-title-meta-heading">Muokattu</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">1. joulukuuta 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="linkit-mittareihin" class="level2">
<h2 class="anchored" data-anchor-id="linkit-mittareihin">Linkit mittareihin</h2>
<ul>
<li><a href="./mittari_etuushakemukset/index.html">Etuushakemukset</a></li>
<li><a href="./mittari_etuuksien_saajat/index.html">Etuuksien saajat</a></li>
<li><a href="./mittari_laakekorvaukset/index.html">Lääkekorvaukset</a></li>
<li><a href="./mittari_koronavirustutkimukset/index.html">Koronavirustutkimukset</a></li>
<li><a href="./mittari_asiakaspalvelu/index.html">Kelan asiakaspalvelu</a></li>
<li><a href="./mittari_matkakorvaukset/index.html">Matkakorvaukset taksimatkoista</a></li>
</ul>
</section>
<section id="taustaa" class="level2">
<h2 class="anchored" data-anchor-id="taustaa">Taustaa</h2>
<p>Koronaviruksen leviäminen ja sen estämiseksi tehdyt toimet vaikuttavat monien ihmisten toimeentuloon. Kela vastaa Suomessa asuvien henkilöiden perusturvasta ja on kriisin myötä varautunut kasvaviin hakemusmääriin. Tällä sivustolla seurataan toimeentuloa turvaavien etuuksien ja tukien hakija- ja saajamääriä. Seuranta antaa yhdenlaisen kuvan siitä, miten pandemia ja sen leviämisen estämiseksi tehdyt toimet vaikuttavat kotitalouksien toimeentuloon Suomessa. Tilanteen kehitystä seurataan tiedosta riippuen päivä-, viikko- ja kuukausitasolla sekä ikäryhmittäin ja sukupuolittain sekä maakunnittain. Tietoja voidaan käyttää tukena päätöksenteossa.</p>
<p>Julkaisemme tällä hetkellä tietoa työttömyysturvan, yrittäjien työmarkkinatuen, yleisen asumistuen ja perustoimeentulotuen hakemusmääristä, uuden väliaikaisen epidemiatuen hakijamääristä sekä työttömyysturvan ja perustoimeentulotuen saajamääristä. Lisäksi seuraamme koronaepidemian vaikutuksia lääkekorvauksiin. Myöhemmin laajennamme seurantaa mahdollisesti tartuntatautipäivärahaan ja sairauspäivärahaan sekä muiden tukien saajiin. Tiedot pohjautuvat Kelan rekisteritietoihin. <!--Koronatilanteen kehityksen seuranta perustuu THL:n julkaisemiin tartuntatautirekisterin lukuihin ja muuhun yleiseen tietoon. --></p>
<!--a href = "./etuvisu.png"><img src="./etuvisu.png" alt="Kuviossa esitetään koronatilanteen avainpäivämääriä sekä THL:n raportoiman vahvistettujen koronatapausten kertymä" width="100%" /></a-->
<!--ul>
<li><a href="etuvisu_data.csv">Lataa kuvion data</a></li>
</ul-->
<section id="toimeentuloa-turvaavat-etuudet-ja-tuet" class="level3">
<h3 class="anchored" data-anchor-id="toimeentuloa-turvaavat-etuudet-ja-tuet">Toimeentuloa turvaavat etuudet ja tuet</h3>
<section id="työttömyysturva-ja-yrittäjien-työmarkkinatuki" class="level4">
<h4 class="anchored" data-anchor-id="työttömyysturva-ja-yrittäjien-työmarkkinatuki">Työttömyysturva ja yrittäjien työmarkkinatuki</h4>
<p>Työttömäksi jääneet ja lomautetut voivat hakea työttömyysturvaa. Työttömyyskassaan kuuluvat henkilöt voivat hakea ansioihin sidottua ansiopäivärahaa kassasta. Kassaan kuulumattomat henkilöt voivat hakea Kelasta työssäoloehdon täyttyessä peruspäivärahaa ja muussa tapauksessa työmarkkinatukea.</p>
<p>Lisäksi eduskunta on päättänyt, että yrittäjät, joilla yrittäjätulot ovat epidemian vuoksi alle 1 089,67 euroa kuukaudessa, voivat saada Kelasta työmarkkinatukea. Tukea voi saada 16.3.2020 alkaen ja sen ensimmäinen hakupäivä oli 16.4.2020. Yrittäjien työttömyysturvaoikeus oli voimassa yhtäjaksoisesti 30.11.2021 asti ja uudelleen 1.1.-28.2.2022.</p>
</section>
<section id="yleinen-asumistuki-ja-perustoimeentulotuki" class="level4">
<h4 class="anchored" data-anchor-id="yleinen-asumistuki-ja-perustoimeentulotuki">Yleinen asumistuki ja perustoimeentulotuki</h4>
<p>Työttömyysturvahakemusten lisäksi pienituloisille kotitalouksille maksettavan yleisen asumistuen sekä perustoimeentulotuen hakemus- ja saajamäärien odotetaan kasvavan. Asumistukea myönnettäessä otetaan huomioon samassa ruokakunnassa (esim. yhteinen vuokrasopimus) asuvien henkilöiden yhteenlasketut tulot tai arvio niistä. Asumistuen suuruuteen vaikuttavat tulojen ja asumismenojen lisäksi asuinkunta sekä ruokakuntaan kuuluvien henkilöiden lukumäärä. Asumistuen määrä voidaan tarkistaa, jos ruokakunnan tulot muuttuvat merkittävästi esimerkiksi koronatilanteesta johtuen.</p>
<p>Perustoimeentulotukioikeuteen vaikuttavat kaikkien kotitalouden jäsenten (hakija, mahdollinen puoliso sekä heidän alaikäiset lapsensa) tulot ja varallisuus sekä kotitalouden tarpeelliseksi katsotut menot. Perustoimeentulotuki on viimesijainen tukimuoto, joten kotitalouden tulee ensin selvittää oikeutensa muihin tukiin ja lähtökohtaisesti turvata elatonsa muilla ensisijaisilla tavoilla kuten mahdollisia säästöjä käyttämällä. Tukea voidaan myöntää myös odotettavissa olevaa etuutta vastaan esimerkiksi niissä tilanteissa, kun työttömyysturvapäätöksen saaminen on venynyt. Tällöin tuki peritään takaisin myöhemmin saatavasta etuudesta. Lisäksi kunnat voivat myöntää täydentävää tai ehkäisevää toimeentulotukea. Sosiaali- ja terveysministeriö antoi Kelalle ja kunnille suosituksia toimeentulotuen käsittelyn turvaamiseksi koronaepidemian aiheuttaman erityistilanteen ajaksi. Kela huomioi suositukset perustoimeentulotuen toimeenpanossa. Suositukset löytyvät <a href="https://stm.fi/documents/1271139/21203212/Kuntainfo+toimeentulotuki+ja+korona+FI/7bbf13eb-14f7-2c5d-694c-04a3fa64ae46/Kuntainfo+toimeentulotuki+ja+korona+FI.pdf">sosiaali- ja terveysministeriön sivuilta</a> ja ne olivat voimassa 31.7.2020 asti.</p>
</section>
<section id="sairauspäiväraha-tartuntatautipäiväraha-ja-epidemiatuki" class="level4">
<h4 class="anchored" data-anchor-id="sairauspäiväraha-tartuntatautipäiväraha-ja-epidemiatuki">Sairauspäiväraha, tartuntatautipäiväraha ja epidemiatuki</h4>
<p>Sairastuneille ja altistuneille mahdolliset menetetyt ansiot korvataan Kelan maksamista sairauspäivärahasta sekä tartuntatautipäivärahasta.</p>
<p>Sairauspäiväraha korvaa työikäisen väestön tulonmenetyksiä sairauspoissaolon aikana. Sairauspäivärahakautta edeltää sairastumispäivän ja sitä seuraavan yhdeksän arkipäivän (ma-la, pl. arkipyhät) mittainen omavastuuaika. Sairauspäivärahaa voi siten saada yleensä vähintään 12 vuorokautta kestävistä sairauspoissaoloista. Työssä olevalle maksetaan omavastuuajalta työsopimuslain perusteella yleensä täyttä sairausajan palkkaa. Työehtosopimuksesta riippuen työnantaja voi myös sairauspäivärahakaudella maksaa työntekijälle palkkaa. Etuus maksetaan työnantajalle siltä osin kuin työnantaja on maksanut poissaoloajalta palkkaa.</p>
<p>Tartuntatautipäiväraha korvaa ansionmenetystä, jos kunnan tai sairaanhoitopiirin tartuntataudeista vastaava lääkäri on määrännyt henkilön olemaan poissa työstä, karanteeniin tai eristykseen tartuntataudin leviämisen estämiseksi. Alle 16-vuotiaan lapsen huoltaja voi saada tartuntatautipäivärahaa, jos lapsi on määrätty olemaan kotona tartuntataudin vuoksi ja huoltajalle aiheutuu tämän vuoksi ansionmenetystä. Vapaaehtoinen eristäytyminen karanteeninomaisiin olosuhteisiin ei riitä etuuden saamiseen. Päivärahaa ei makseta myöskään silloin, kun karanteeni ei aiheuta ansionmenetystä. Tartuntatautipäivärahassa ei ole omavastuuaikaa, vaan etuus voidaan maksaa heti ensimmäisestä poissaolopäivästä alkaen. Samoin kuin sairauspäiväraha, myös tartuntatautipäiväraha maksetaan työnantajalle siltä osin kuin työnantaja on maksanut poissaoloajalta palkkaa.</p>
<p>Koronavirusdiagnoosin saaneiden työstä poissaoloja on voitu korvata joko sairauspäivärahalla tai tartuntatautipäivärahalla riippuen siitä, onko sairastunut asetettu viralliseen karanteeniin tai eristykseen. Tartuntatautipäiväraha on yleensä sairauspäivärahaa edullisempi etuus, sillä se korvaa ansionmenetyksen täysimääräisesti, kun sairauspäivärahassa korvausprosentti on noin 70. Tartuntatautipäivärahassa ei ole myöskään omavastuuaikaa.</p>
<p>Tarkempaa tietoa etuuksien käytöstä ja koronaviruksen näkymisestä näiden etuuksien käytössä Kelan tutkimusblogeissa <a href="https://tutkimusblogi.kela.fi/arkisto/6356">Blomgren ym. 2022</a>, <a href="https://tutkimusblogi.kela.fi/arkisto/5764">Blomgren 2021</a>, <a href="https://tutkimusblogi.kela.fi/arkisto/5275">Blomgren 2020</a>, <a href="https://tutkimusblogi.kela.fi/arkisto/5493">Blomgren ja Jäppinen 2020</a>.</p>
<p>Keväällä 2020 eduskunta teki lisäksi päätöksen väliaikaisesta epidemiatuesta, jota on voitu maksaa tietyin ehdoin koronavirusepidemian vuoksi palkatta pois työstä oleville. Tukea voivat saada vanhemmat, jotka epidemian vuoksi hoitivat lastaan kotona 16.3.–13.5.2020 välisenä aikana ja joutuivat siksi ottamaan palkatonta vapaata työstään. Tukea voivat saada myös henkilöt, jotka saapuivat ulkomailta Suomeen ennen 14.5.2020 ja jotka ohjattiin karanteeninomaisiin oloihin. Henkilöillä tuli olla voimassa oleva työsuhde ja työnantajan todistus koronaepidemiasta johtuvasta palkattomasta poissaolosta.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopioitu!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopioitu!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>